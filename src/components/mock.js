/**
 * 图谱数据源
 */
export const data = [
  {
    id: 10000,
    name: "项英",
    categary: "百科",
    children: [
      {
        id: 2,
        name: "1898年5月",
        categary: "出生日期",
      },
      {
        id: 3,
        name: "张亮",
        categary: "妻子",
        children: [
          {
            id: 301,
            name: "伟大的无产阶级革命家、军事家、指挥家",
            categary: "身份",
            // children:[
            //     {
            //         id:30101,
            //         name:'中共党员',
            //         categary:'政治面貌',
            //     },
            //     {
            //         id:30102,
            //         name:'女',
            //         categary:'性别',
            //     },
            //     // {
            //     //     id:30103,
            //     //     name:'entrepreneur',
            //     //     categary:'外文名',
            //     // }
            // ]
          },
          {
            id: 302,
            name: "中共党员",
            categary: "政治面貌",
          },
          {
            id: 303,
            name: "女",
            categary: "性别",
          },
          // {
          //     id:304,
          //     name:'第七届中国作家富豪榜最佳冒险小说奖',
          //     categary:'主要成就',
          // }
        ],
      },
      {
        id: 4,
        name: "1941年",
        categary: "逝世日期",
      },
      {
        id: 5,
        name: "汉族",
        categary: "民族",
      },
      {
        id: 6,
        name: "中共中央东南局书记、新四军副军长兼政委",
        categary: "主要成就",
      },
      {
        id: 7,
        name:
          "《三年来坚持的游击战争》、《南方三年游击战争经验对于当前抗战的教训》（1937）、《项英将军言论集》（1939）等",
        categary: "主要著述",
      },
      {
        id: 8,
        name: "刘厚总",
        categary: "遇害凶手",
      },
      {
        id: 9,
        name:
          "杰出的无产阶级革命家，工人运动的著名活动家，党和红军早期的领导人之一，新四军的创建人和主要领导人之一 ",
        categary: "评价",
      },
    ],
  },
  {
    id: 20000,
    name: "叶挺",
    categary: "百科",
    children: [
      {
        id: 1599811251651,
        name: "1896年9月10日",
        categary: "出生日期",
      },
      {
        id: 1599811251652,
        name: "1946年4月8日",
        categary: "逝世日期",
      },
      {
        id: 1599811251653,
        name: "空难",
        categary: "逝世原因",
      },
      {
        id: 1599811251654,
        name: "汉族",
        categary: "名族",
      },
      {
        id: 1599811251655,
        name: "《囚歌》",
        categary: "代表作品",
      },
      {
        id: 1599811251656,
        name: "创建叶挺独立团",
        categary: "主要功绩",
      },
    ],
  },
  {
    id: 30000,
    name: "陈毅",
    categary: "百科",
    children: [
      {
        id: 1599811494936,
        name: "1901年8月26日",
        categary: "出生日期",
      },
      {
        id: 1599811494937,
        name: "1972年1月6日",
        categary: "逝世日期",
      },
      {
        id: 1599811494938,
        name: "《陈毅诗词选集》",
        categary: "代表作品",
      },
      {
        id: 1599811494939,
        name: "中华人民共和国元帅",
        categary: "军衔",
      },
      {
        id: 1599811494930,
        name: "无产阶级革命家、军事家、外交家",
        categary: "身份",
      },
      {
        id: 1599811494931,
        name: "中国",
        categary: "国籍",
      },
      {
        id: 1599811494932,
        name: "汉族",
        categary: "民族",
      },
    ],
  },
  {
    id: 40000,
    name: "刘少奇",
    categary: "百科",
    children: [
      {
        id: 1599813559392,
        name: "1898年11月24日",
        categary: "出生日期",
      },
      {
        id: 1599813559393,
        name: "1969年11月12日",
        categary: "逝世日期",
      },
      {
        id: 1599813559394,
        name: "党和国家主要领导人之一,中华人民共和国开国元勋,曾任中华人民共和国主席,曾任全国人民代表大会常务委员会委员长",
        categary: "主要成就",
      },
      {
        id: 1599813559395,
        name: "新四军政治委员和华中局书记",
        categary: "身份",
      },
    ],
  },
  {
    id: 50000,
    name: "泾县保卫战",
    categary: "百科",
    children: [
      {
        id: 1599813694131,
        name: "1940年10月2日至9日",
        categary: "时间",
      },
      {
        id: 1599813694132,
        name: "云岭保卫战，皖南第二次反“扫荡”战",
        categary: "别名",
      },
      {
        id: 1599813694133,
        name: "叶挺",
        categary: "领导人",
      },
      {
        id: 1599813694134,
        name: "南陵县、泾县",
        categary: "地点",
      },
      {
        id: 1599813694135,
        name: "运用游击战和阵地战",
        categary: "战术",
      },
      {
        id: 1599813694136,
        name: "以少胜多的战斗，粉碎了日寇在皖南规模最大、投入人数最多、装备武器最精良、进犯路线最长的一次大“扫荡”，打击了日本侵略军的骄横气焰，鼓舞了全国人民的抗日士气，进一步扩大了共产党和新四军的影响",
        categary: "意义",
      },
      // {
      //   id: 1599813694137,
      //   name: "174cm",
      //   categary: "身高",
      // },
      // {
      //   id: 1599813694138,
      //   name: "63kg",
      //   categary: "体重",
      // },
    ],
  },
  {
    id: 60000,
    name: "父子岭阻击战 ",
    categary: "百科",
    children: [
      {
        id: 1599813839207,
        name: "1940年4月",
        categary: "时间",
      },
      {
        id: 1599813839208,
        name: "粉碎日军对皖南沿江地区“扫荡”的重要战斗",
        categary: "意义",
      },
      {
        id: 1599813839209,
        name: "血战8小时",
        categary: "历时",
      },
      {
        id: 1599813839210,
        name: "安徽省芜湖县",
        categary: "地点",
      },
      {
        id: 1599813839211,
        name: "以少胜多、以弱胜强的经典战例,为保卫皖南、保卫新四军军部,打击日寇嚣张气焰,鼓舞抗战士气",
        categary: "贡献",
      },
      // {
      //   id: 1599813839212,
      //   name: "合瓣花亚纲",
      //   categary: "亚纲",
      // },
      // {
      //   id: 1599813839213,
      //   name: "管状花目",
      //   categary: "目",
      // },
      // {
      //   id: 1599813839214,
      //   name: "茄科",
      //   categary: "科",
      // },
    ],
  },
  {
    id: 70000,
    name: "顺河集阻击战",
    categary: "百科",
    children: [
      {
        id: 1599813927218,
        name: "1945年",
        categary: "时间",
      },
      {
        id: 1599813927219,
        name: "粉碎敌军进攻淮南‘扫荡’军部的部署，保护了根据地的人民，也赢得了保卫军部的主动权",
        categary: "意义",
      },
      {
        id: 1599813927220,
        name: "阵亡26人",
        categary: "代价",
      },
      {
        id: 1599813927221,
        name: "顺河集(今洪泽县西顺河镇)",
        categary: "地点",
      },
      {
        id: 1599813927222,
        name: "五十二团",
        categary: "参战部队",
      },
      // {
      //   id: 1599813927223,
      //   name: "O型",
      //   categary: "血型",
      // },
      // {
      //   id: 1599813927224,
      //   name: "175cm",
      //   categary: "身高",
      // },
      // {
      //   id: 1599813927225,
      //   name: "台湾省新北市",
      //   categary: "出生地",
      // },
    ],
  },
  {
    id: 80000,
    name: "反“扫荡”战役 ",
    categary: "百科",
    children: [
      {
        id: 1599813971854,
        name: "1941年6月",
        categary: "时间",
      },
      {
        id: 1599813971855,
        name: "陈毅、刘少奇、赖传珠",
        categary: "指挥",
      },
      {
        id: 1599813971856,
        name: "德军在战争初期的胜利，大大刺激了日寇的野心",
        categary: "背景",
      },
      {
        id: 1599813971857,
        name: "部队得到了水网地区的作战经验和锻炼，提高了战斗的胜利信心和战斗能力",
        categary: "意义",
      },
      {
        id: 1599813971858,
        name: "北线（苏北，即盐阜区）、南线（苏中）。在北线（苏北，即盐阜区）",
        categary: "地点",
      },
      // {
      //   id: 1599813971859,
      //   name: "211工程",
      //   categary: "属性",
      // },
      // {
      //   id: 1599813971860,
      //   name: "省部共建大学",
      //   categary: "属性",
      // },
      // {
      //   id: 1599813971861,
      //   name: "卓越工程师教育培养计划",
      //   categary: "属性",
      // },
    ],
  },
  {
    id: 90000,
    name: "新四军纪念馆",
    categary: "百科",
    children: [
      {
        id: 1599814026913,
        name: "安徽省泾县西北部",
        categary: "地点",
      },
      {
        id: 1599814026914,
        name: "陈毅元帅",
        categary: "题名",
      },
      {
        id: 1599814026915,
        name: "1985年",
        categary: "开放时间",
      },
      {
        id: 1599814026916,
        name: "全国首批重点文物单位、全国保存最完整的革命旧址群之一，也是中国近现代八大重要史迹之一",
        categary: "意义",
      },
      {
        id: 1599814026917,
        name: "新四军史料陈列馆",
        categary: "特殊建筑",
        children: [
          {
            id: 15998140269171,
            name: "展现了新四军从1937年组建到1947年番号撤销波澜壮阔十年战斗历程",
            categary: "意义",
          },
          {
            id: 15998140269172,
            name: "运用了新颖的场景设计和沙盘模型、人物塑像、幻影成像、声光电多媒体高科技手段",
            categary: "技术",
          },
          {
            id: 15998140269173,
            name: "12600平方米",
            categary: "面积",
          },
        ]
      },
    ],
  },
];

/**
 * 模糊查询大类
 * @param {*} name
 */
export const search = (name) => {
  return new Promise((resolve, reject) => {
    let result = [];
    let list = data.filter((item) => item.name.indexOf(name) >= 0);
    if (list && list.length > 0) {
      result = list || [];
    }
    if (result.length > 0) {
      resolve(result);
    } else {
      reject();
    }
  });
};

/**
 * 点击节点展开
 * @param {*} id
 */
export const expendNodes = (id) => {
  return new Promise((resolve, reject) => {
    let totalList = [];
    //拆除来所有的children到第一层
    data.forEach((item) => {
      getDeepChildrens(totalList, item, 0);
    });

    let list = [];
    for (let item of totalList) {
      if (item.parentId.toString() === id) {
        const { children, ...reset } = item;
        list.push({
          ...reset,
        });
      }
    }
    if (list.length > 0) {
      resolve(list);
    } else {
      reject();
    }
  });
};

/**
 * 递归数组,把所有children都拆出来到第一层
 * @param {*} list
 * @param {*} item
 */
function getDeepChildrens(list, item, parentId) {
  const { children, ...reset } = item;
  list.push({
    ...reset,
    parentId,
  });
  if (children && children.length > 0) {
    children.forEach((child) => {
      getDeepChildrens(list, child, item.id);
    });
  }
}

/**
 * 分类数据
 */
export const categarys = [
  "叶挺",
  "项英",
  "陈毅",
  "刘少奇",
  "泾县保卫战",
  "父子岭阻击战 ",
  "顺河集阻击战",
  "反“扫荡”战役",
  "新四军纪念馆",

  "叶挺",
  "项英",
  "陈毅",
  "刘少奇",
  "泾县保卫战",
  "父子岭阻击战 ",
  "顺河集阻击战",
  "反“扫荡”战役",
  "新四军纪念馆",


  "叶挺",
  "项英",
  "陈毅",
  "刘少奇",
  "泾县保卫战",
  "父子岭阻击战 ",
  "顺河集阻击战",
  "反“扫荡”战役",

  "新四军纪念馆",

  "叶挺",
  "项英",
  "陈毅",
  "刘少奇",
  "泾县保卫战",
  "父子岭阻击战 ",
  "顺河集阻击战",
  "反“扫荡”战役",

  "新四军纪念馆",

  "叶挺",
  "项英",
  "陈毅",
];
